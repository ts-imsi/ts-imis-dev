<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3">考勤统计</h1>
</div>
<div class="wrapper-md" >

    <!--表格显示-->
    <div class="panel panel-default">

        <div class="row NKwrapper Nkinput">
            <div  class="fr">
                <div class="col-px-180 fl" style="position: relative;" id="myYear">
                    <div class="form-control ng-pristine ng-valid ng-touched NkinputSelec" ng-click="ctrl.toggle()">时间：{{ctrl.yearc}}年</div>
                    <!--显隐（年份）-->
                    <div class="Nkxy Nkpopover" style="display: block;top: 31px;left: 16px;" ng-show="ctrl.myYear">
                        <div class="Nkarrow"></div>
                        <div class="Nkpopover-inner col-px-150">
                            <div class="Nkpopover-content" >
                                <ul>
                                    <a ng-click="ctrl.changeYear(ye)" ng-repeat="ye in ctrl.yearList"><li ng-bind="ye"></li></a>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div>


                <div class="col-px-100-r fl" style="position: relative;" id="myYue">
                    <div class="form-control ng-pristine ng-valid ng-touched NkinputSelec" ng-click="ctrl.toggYue()" ng-bind="ctrl.yuec"></div>
                    <!--显隐（年份）-->
                    <div class="Nkxy Nkpopover" style="display: block;top: 31px;left: 16px;" ng-show="ctrl.myYue" >
                        <div class="Nkarrow"></div>
                        <div class="Nkpopover-inner col-px-70">
                            <div class="Nkpopover-content" >
                                <ul>
                                    <a ng-click="ctrl.changeYue(yu)" ng-repeat="yu in ctrl.yueList"><li ng-bind="yu.key"></li></a>
                                </ul>

                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-px-80 fl" style="position: relative;" id="myShaix">
                    <button class="btn btn-default saixuan Nksx"  ng-click="ctrl.toggShaix()">
                        筛选</button>
                    <!--筛选弹出-->
                    <div class="shaixBox" style="display: block;" ng-show="ctrl.myShaix">
                        <div  class="wixian"></div>

                        <div class="brbotP NKwrapper Nkcont">
                            <div class="form-group NkSerTit">
                                <label class="col-px-70 control-label fl NkSN">姓名</label>
                                <div class="col-px-230 fr">
                                    <input type="text" class="form-control" placeholder="姓名筛选" ng-model="ctrl.countName">
                                </div>
                            </div>
                            <ul>
                                <li ng-repeat="name in ctrl.nameStrs" ng-bind="name"></li>
                            </ul>
                        </div>
                        <!--部门-->
                        <div class="brbotP NKwrapper Nkcont" ng-show="ctrl.isShowOpe('filter')">
                            <div class="form-group NkSerTit">
                                <label class="col-px-70 control-label fl NkSN">部门</label>
                                <div class="col-px-230 fr">
                                    <input type="text" class="form-control" placeholder="部门筛选" ng-model="ctrl.tagName">
                                </div>
                            </div>
                            <ul>
                                <li ng-repeat="tagN in ctrl.tagNameStrs" ng-bind="tagN"></li>
                            </ul>

                        </div>
                        <div class="brbotP NKwrapper Nkcont">
                            <p>签到情况</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('lateNum') != -1" ng-click="ctrl.updateCxSelection($event,'lateNum')">
                                            <i></i>
                                            迟到天数
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('backNum') != -1" ng-click="ctrl.updateCxSelection($event,'backNum')">
                                            <i></i>
                                            早退天数
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('lackNum') != -1" ng-click="ctrl.updateCxSelection($event,'lackNum')">
                                            <i></i>
                                            旷工
                                        </label>
                                    </div>
                                </li>
                            </ul>

                        </div>
                        <div class="brbotP NKwrapper Nkcont">
                            <p>带薪假</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('maternityLeave') != -1" ng-click="ctrl.updateCxSelection($event,'maternityLeave')">
                                            <i></i>
                                            产假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('annualLeave') != -1" ng-click="ctrl.updateCxSelection($event,'annualLeave')">
                                            <i></i>
                                            年假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('peternituLeave') != -1" ng-click="ctrl.updateCxSelection($event,'peternituLeave')">
                                            <i></i>
                                            陪产假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('maritalLeave') != -1" ng-click="ctrl.updateCxSelection($event,'maritalLeave')">
                                            <i></i>
                                            婚假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('funeralLeave') != -1" ng-click="ctrl.updateCxSelection($event,'funeralLeave')">
                                            <i></i>
                                            丧假
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!--扣薪假-->
                        <div class="brbotP NKwrapper Nkcont">
                            <p>扣薪假</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('affairLeave') != -1" ng-click="ctrl.updateCxSelection($event,'affairLeave')">
                                            <i></i>
                                            事假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('sickLeave') != -1" ng-click="ctrl.updateCxSelection($event,'sickLeave')">
                                            <i></i>
                                            病假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selectedCx.indexOf('otherLeave') != -1" ng-click="ctrl.updateCxSelection($event,'otherLeave')">
                                            <i></i>
                                            其他
                                        </label>
                                    </div>
                                </li>

                            </ul>
                        </div>
                        <!--重置按钮-->
                        <div class="fr NKwrapper">
                            <button class="btn m-b-xs w-xs ButCz" ng-click="ctrl.cancel()">清空</button>
                            <button class="btn m-b-xs w-xs ButCz" ng-click="ctrl.submitSeach()">查询</button>
                        </div>

                    </div>
                    <!--筛选弹出end-->

                </div>
                <div class="col-px-100-r fl" id="myXians">
                    <button class="btn btn-default xianshi Nksx" ng-click="ctrl.toggXians()">
                        显示列</button>
                    <!--显示弹出-->
                    <div class="shaixBox" style="display: block;" ng-show="ctrl.myXians">
                        <div  class="wixian"></div>
                        <!--默认-->
                        <div class="brbotP NKwrapper Nkcont">
                            <p>默认</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('name') != -1" ng-click="ctrl.updateSelection($event,'name')">
                                            <i></i>
                                            姓名
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('tagName') != -1" ng-click="ctrl.updateSelection($event,'tagName')" >
                                            <i></i>
                                            部门
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('shouldSignNum') != -1" ng-click="ctrl.updateSelection($event,'shouldSignNum')">
                                            <i></i>
                                            应签天数
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('factSignNum') != -1" ng-click="ctrl.updateSelection($event,'factSignNum')">
                                            <i></i>
                                            实签天数
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <!--签到情况-->
                        <div class="brbotP NKwrapper Nkcont">
                            <p>签到情况</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('attNum') != -1" ng-click="ctrl.updateSelection($event,'attNum')" >
                                            <i></i>
                                            正常出勤
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('lateNum') != -1" ng-click="ctrl.updateSelection($event,'lateNum')">
                                            <i></i>
                                            迟到天数
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('backNum') != -1" ng-click="ctrl.updateSelection($event,'backNum')">
                                            <i></i>
                                            早退天数
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('lackNum') != -1" ng-click="ctrl.updateSelection($event,'lackNum')">
                                            <i></i>
                                            旷工
                                        </label>
                                    </div>
                                </li>
                            </ul>

                        </div>
                        <!--带薪假-->
                        <div class="brbotP NKwrapper Nkcont">
                            <p>带薪假</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('maternityLeave') != -1" ng-click="ctrl.updateSelection($event,'maternityLeave')">
                                            <i></i>
                                            产假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('annualLeave') != -1" ng-click="ctrl.updateSelection($event,'annualLeave')">
                                            <i></i>
                                            年假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('peternituLeave') != -1" ng-click="ctrl.updateSelection($event,'peternituLeave')">
                                            <i></i>
                                            陪产假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('maritalLeave') != -1" ng-click="ctrl.updateSelection($event,'maritalLeave')">
                                            <i></i>
                                            婚假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('funeralLeave') != -1" ng-click="ctrl.updateSelection($event,'funeralLeave')">
                                            <i></i>
                                            丧假
                                        </label>
                                    </div>
                                </li>
                            </ul>
                        </div>

                        <!--扣薪假-->
                        <div class="brbotP NKwrapper Nkcont">
                            <p>扣薪假</p>
                            <ul>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('affairLeave') != -1" ng-click="ctrl.updateSelection($event,'affairLeave')">
                                            <i></i>
                                            事假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('sickLeave') != -1" ng-click="ctrl.updateSelection($event,'sickLeave')">
                                            <i></i>
                                            病假
                                        </label>
                                    </div>
                                </li>
                                <li>
                                    <div class="checkbox">
                                        <label class="i-checks">
                                            <input type="checkbox" ng-checked="ctrl.selected.indexOf('otherLeave') != -1" ng-click="ctrl.updateSelection($event,'otherLeave')">
                                            <i></i>
                                            其他
                                        </label>
                                    </div>
                                </li>

                            </ul>
                        </div>
                        <!--重置按钮-->
                        <div class="fr NKwrapper">
                            <button class="btn m-b-xs w-xs ButCz" ng-click="ctrl.selectedReset()">重置</button>
                            <button class="btn m-b-xs w-xs ButCz" ng-click="ctrl.selectedAll()">全选</button>
                            <button class="btn m-b-xs w-xs ButCzBg" ng-click="ctrl.selectedSubmit()">确定</button>
                        </div>

                    </div>
                    <!--显示弹出end-->
                </div>
                <div class="col-px-80 fl" ng-show="ctrl.isShowOpe('export')">
                    <a ng-href="{{ctrl.excelCountExprot}}" >
                        <button class="btn btn-default daochu Nksx"
                                ng-click="ctrl.myYear = false;ctrl.myYue = false;
                              ctrl.myShaix = false;ctrl.myXians= false;">
                            导出</button></a>
                    <!--<button class="btn btn-default daochu Nksx" ng-click="ctrl.excelContactExport()">
                        导出</button>-->
                </div>

            </div>
        </div>


        <div class="table-responsive">
            <table class="table table-striped b-t b-light JG">
                <thead class="bgJ" style="text-align: center;" ng-show="ctrl.showAll">
                <tr>
                    <th rowspan="2" align="center">姓名</th>
                    <th rowspan="2" align="center">部门</th>
                    <th rowspan="2" align="center">应签天数</th>
                    <th rowspan="2" align="center">实签天数</th>
                    <th colspan="4" align="center">签到情况</th>
                    <th colspan="5" align="center">带薪假</th>
                    <th colspan="3" align="center">扣薪假</th>
                    <th rowspan="2" align="center">操作</th>
                </tr>
                <tr>
                    <th>正常出勤</th>
                    <th>迟到天数</th>
                    <th>早退天数</th>
                    <th>旷工</th>
                    <th>年假</th>
                    <th>产假</th>
                    <th>陪产假</th>
                    <th>婚假</th>
                    <th>丧假</th>
                    <th>事假</th>
                    <th>病假</th>
                    <th>其他</th>
                </tr>
                </thead>
                <thead class="bgJ" style="text-align: center;" ng-show="!ctrl.showAll">
                <tr>
                    <th ng-show="ctrl.showname">姓名</th>
                    <th ng-show="ctrl.showtagName">部门</th>
                    <th ng-show="ctrl.showshouldSignNum">应签天数</th>
                    <th ng-show="ctrl.showfactSignNum">实签天数</th>

                    <th ng-show="ctrl.showattNum">正常出勤</th>
                    <th ng-show="ctrl.showlateNum">迟到天数</th>
                    <th ng-show="ctrl.showbackNum">早退天数</th>
                    <th ng-show="ctrl.showlackNum">旷工</th>

                    <th ng-show="ctrl.showannualLeave">年假</th>
                    <th ng-show="ctrl.showmaternityLeave">产假</th>
                    <th ng-show="ctrl.showpeternituLeave">陪产假</th>
                    <th ng-show="ctrl.showmaritalLeave">婚假</th>
                    <th ng-show="ctrl.showfuneralLeave">丧假</th>

                    <th ng-show="ctrl.showaffairLeave">事假</th>
                    <th ng-show="ctrl.showsickLeave">病假</th>
                    <th ng-show="ctrl.showotherLeave">其他</th>
                    <th>操作</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="count in ctrl.countList" ng-click="ctrl.setPage(1,count.workNum)"
                    ng-dblclick="ctrl.openPanel()">

                    <td ng-bind="count.name" ng-show="ctrl.showname"></td>
                    <td ng-bind="count.tagName" ng-show="ctrl.showtagName"></td>
                    <td ng-bind="count.shouldSignNum" ng-show="ctrl.showshouldSignNum"></td>
                    <td ng-bind="count.factSignNum" ng-show="ctrl.showfactSignNum"></td>

                    <td ng-bind="count.attNum" ng-show="ctrl.showattNum"></td>
                    <td ng-bind="count.lateNum" ng-show="ctrl.showlateNum"></td>
                    <td ng-bind="count.backNum" ng-show="ctrl.showbackNum"></td>
                    <td ng-bind="count.lackNum" ng-show="ctrl.showlackNum"></td>

                    <td ng-bind="count.annualLeave" ng-show="ctrl.showannualLeave"></td>
                    <td ng-bind="count.maternityLeave" ng-show="ctrl.showmaternityLeave"></td>
                    <td ng-bind="count.peternituLeave" ng-show="ctrl.showpeternituLeave"></td>
                    <td ng-bind="count.maritalLeave" ng-show="ctrl.showmaritalLeave"></td>
                    <td ng-bind="count.funeralLeave" ng-show="ctrl.showfuneralLeave"></td>

                    <td ng-bind="count.affairLeave" ng-show="ctrl.showaffairLeave"></td>
                    <td ng-bind="count.sickLeave" ng-show="ctrl.showsickLeave"></td>
                    <td ng-bind="count.otherLeave" ng-show="ctrl.showotherLeave"></td>
                    <td>
                        <button  class="btn btn-default no-shadow" ng-click="ctrl.setPage(1,count.workNum);ctrl.openPanel()" >查看明细</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <!--翻页-->
        <footer class="panel-footer">
            <div class="row">
                <div class="col-sm-3 hidden-xs">
                </div>
                <div class="col-sm-5 text-right text-center-xs">
                    <pagination total-items="ctrl.cototalCount" ng-model="ctrl.copageNo"
                                ng-change="ctrl.countPageChanged()"
                                items-per-page="ctrl.copageSize" max-size="ctrl.maxSize" class="pagination-sm"
                                boundary-links="true" force-ellipses="true"></pagination>
                </div>
            </div>
        </footer>
    </div>
    <div data-ng-include=" 'src/pc/contact/contactsettings.html' " ng-class="ctrl.panelClass"></div>
</div>